<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="PrintInfoMap"   xmlns="http://ibatis.apache.org/mapping"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="SqlMap.xsd">
  <alias>
    <typeAlias alias="PrintInfo" assembly="DataAccess.dll" type="DataAccess.Domain.PrintInfo" />
  </alias>
  <resultMaps>
    <resultMap id="PrintInfoResult" class="PrintInfo">
      <result property="Id" column="ID" type="long" dbType="long"/>
      <result property="PlanNo" column="PlanNo" type="string" dbType="varchar"/>
      <result property="MenuNo" column="MenuNo" type="string" dbType="varchar"/>
      <result property="MenuType" column="MenuType" type="string" dbType="varchar"/>
      <result property="PrinterNo" column="PrinterNo" type="string" dbType="varchar"/>
      <result property="OrderNo" column="OrderNo" type="string" dbType="varchar"/>
      <result property="SeatNo" column="SeatNo" type="string" dbType="varchar"/>
      <result property="OperUserNo" column="OperUserNo" type="string" dbType="varchar"/>
      <result property="PeopleCount" column="PeopleCount" type="long" dbType="long"/>
      <result property="PrintTime" column="PrintTime" type="DateTime" dbType="DateTime"/>
      <result property="PrintStatus" column="PrintStatus" type="string" dbType="varchar"/>
    </resultMap>
  </resultMaps>
  <statements>

    <select id="SelectPrintInfo" parameterClass="string" resultClass="PrintInfo">
      SELECT ID AS Id,PlanNo AS PlanNo,MenuNo AS MenuNo,MenuType AS MenuType,PrinterNo AS PrinterNo,OrderNo AS OrderNo,SeatNo AS SeatNo,OperUserNo AS OperUserNo,PeopleCount AS PeopleCount,PrintTime AS PrintTime,PrintStatus AS PrintStatus
      FROM PrintInfo
      <dynamic prepend="WHERE">
        <isParameterPresent>
          ID = #value#
        </isParameterPresent>
      </dynamic>
    </select>
    <insert id="InsertPrintInfo" parameterClass="PrintInfo">
      INSERT INTO PrintInfo
      (PlanNo,MenuNo,MenuType,PrinterNo,OrderNo,SeatNo,OperUserNo,PeopleCount,PrintTime,PrintStatus)
      VALUES(#PlanNo#,#MenuNo#,#MenuType#,#PrinterNo#,#OrderNo#,#SeatNo#,#OperUserNo#,#PeopleCount#,#PrintTime#,#PrintStatus#)
      <selectKey resultClass="long" type="post" property="Id">
        SELECT LAST_INSERT_ROWID() as value
      </selectKey>
    </insert>
    <update id="UpdatePrintInfo" parameterClass="PrintInfo">
      UPDATE PrintInfo
      SET PlanNo=#PlanNo#,MenuNo=#MenuNo#,MenuType=#MenuType#,PrinterNo=#PrinterNo#,OrderNo=#OrderNo#,SeatNo=#SeatNo#,OperUserNo=#OperUserNo#,PeopleCount=#PeopleCount#,PrintTime=#PrintTime#,PrintStatus=#PrintStatus#
      WHERE ID = #Id#
    </update>
    <delete id="DeletePrintInfo" parameterClass="string">
      DELETE FROM PrintInfo
      WHERE ID = #value#
    </delete>
  </statements>
</sqlMap>
